{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://nase-skoly.cz/",
  "type": "object",
  "properties": {
    "RED-IZO": {
      "description": "The RED-IZO value given by MÅ MT.",
      "type": "string"
    },
    "metadata": {
      "type": "object",
      "description": "Information about the school with fixed structure.",
      "$ref": "#/definitions/metadata"
    },
    "units": {
      "type": "array",
      "description": "Information about the units of the school",
      "items": {
        "type": "object",
        "$ref": "#/definitions/unit"
      }
    }
  },
  "required": [ "metadata", "units", "RED-IZO" ],
  "definitions": {
    "address": {
      "properties": {
        "street": { "type": "string" },
        "city": { "type": "string" },
        "postalCode": { "type": "string" },
        "region": { "type": "string" },
        "location": {
          "type": "object",
          "description": "The geographical coordinates of the main school building or its unit.",
          "properties": {
            "lat": { "type": "number" },
            "lon": {  "type": "number" }
          }
        }
      }
    },
    "contact": {
      "type": "object",
      "properties": {
        "phoneNumbers": {
          "type": "array",
          "items": { "type": "string" }
        },
        "emails": {
          "type": "array",
          "items": { "type": "string" }
        },
        "websites": {
          "type": "array",
          "items": { "type": "string" }
        }
      }
    },
    "metadata": {
      "type": "object",
      "properties": {
        "name": {
          "description": "The name of the school or its unit.",
          "type": "string"
        },
        "headmaster": {
          "type": "object",
          "description": "The information about the headmaster of the school or its unit.",
          "properties": {
            "name": { "type": "string" }
          }
        },
        "contact": {
          "type": "object",
          "$ref": "#/definitions/contact"
        },
        "address": {
          "type": "object",
          "$ref": "#/definitions/address"
        }
      },
      "required": [ "name" ]
    },
    "unit": {
      "type": "object",
      "properties": {
        "IZO": { "type": "string" },
        "type": { "type": "string" },
        "metadata": {
          "type": "object",
          "$ref": "#/definitions/metadata"
        },
        "information": {
          "type": "array",
          "items": {
            "type": "object",
            "oneOf": [
              { "$ref": "#/definitions/numericItem" },
              { "$ref": "#/definitions/textualItem" },
              { "$ref": "#/definitions/booleanItem" },
              { "$ref": "#/definitions/arrayItem" }
            ]
          }
        }
      },
      "required": [ "IZO", "type", "metadata", "information" ]
    },
    "numericItem": {
      "type": "object",
      "properties": {
        "item": {
          "description": "The title of the piece of information.",
          "type": "string"
        },
        "number": {
          "description": "The numeric value of the item.",
          "type": "integer"
        }
      },
      "required": [ "item", "number" ]
    },
    "textualItem": {
      "type": "object",
      "properties": {
        "item": {
          "description": "The title of the piece of information.",
          "type": "string"
        },
        "text": {
          "description": "The textual value of the item.",
          "type": "string"
        }
      },
      "required": [ "item", "text" ]
    },
    "booleanItem": {
      "type": "object",
      "properties": {
        "item": {
          "description": "The title of the piece of information.",
          "type": "string"
        },
        "boolean": {
          "description": "The boolean value of the item.",
          "type": "boolean"
        }
      },
      "required": [ "item", "boolean" ]
    },
    "arrayItem": {
      "type": "object",
      "properties": {
        "item": {
          "description": "The title of the piece of information.",
          "type": "string"
        },
        "array": {
          "description": "The list of separate values",
          "type": "array",
          "items": {
            "oneOf": [
              { "type": "string" },
              { "type": "number" },
              { "type": "boolean" }
            ]
          }
        }
      },
      "required": [ "item", "array" ]
    }
  }
}
